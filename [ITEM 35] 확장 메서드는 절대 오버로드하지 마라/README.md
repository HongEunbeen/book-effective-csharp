## 인터페이스와 타입에 대해 확장 메서드를 작성해야 하는 세 가지 이유

- 인터페이스에 기본 구현 추가
- 닫힌 제네릭 타입에 동작 추가
- 조합 가능한 인터페이스 작성

### [확장 메서드 사용시 주의사항]

설계 의도를 드러내는 방법으로는 사용하면 안됩니다.

→ 대부분의 경우가 기존에 개발된 타입을 개선하기 위해서이지 타입의 본질적인 동작 방식을 변경하기 위한 것은 아닙니다.

- 확장 메서드를 이용해 인터페이스에 대한 기본 구현체 제공 = 좋은 방법
- 타입을 확장하기 위한 용도로 사용하는 것  = 적절하지 않은 방법

확장 메서드 과도하게 사용, 잘못 사용할 경우 메서드 충돌로 인해 유지보수 비용 증가할 수 있습니다.

## 확장 메서드 잘못 사용한 예

```csharp
public sealed class Person
{
	public string FirstName { get; set; }
	public string LastName {get; set; }
}
```

```csharp
//person 객체의 FirstName 과 LastName을 화면에 출력하기 위해 확장 메서드 작성
namespace ConsoleExtendsions
{
	public static class ConsoleReport
	{
		public static string Format(this Person target) => "hahaha";
	}
|
```

이렇게 확장 메서드를 이용해 작성하면 using 문장을 바꾸었을 대 출력 방향이 달라집니다.

→ 개발자가 실수로 네임스페이스를 잘못 참조하게 된다면 동작 방식이 변경됩니다.

### [오류 해결 방법]

Format 메서드는 Person 타입의 일부로 보기보다 Person 타입을 사용하는 메서드로 봐야합니다.

→ Pserson 타입 내에 있을 필요가 있고, 확장 메서드로 작성하기보다는 정적 메서드로 작성하는것이 좋습니다.

## 확장 메서드 개념

- 확장 메서드 : 추가하려는 기능이 타입과 자연스럽게 어울릴 떄만 사용
    
    → 논리적으로 추가하려는 기능이 타입 내에 포함되는 것이 적절할 경우에만 사용해야 합니다.
    

예제의 확장 메서드는 타입을 확장하는 것처럼 보이지도 않고 이를 통해 얻을 수 있는 이득은 별로 없습니다.

## 정리

- 특정 타입에 대해 동작하는 확장 메서드는 하나의 세트로 간주해야 합니다.
- 확장 메서드를 여러 네임스페이스 걸쳐 오버로드해서는 안 됩니다.
    - 대신, 메서드의 이름을 달리하고 정적 메서드로 작성하는 것을 고려해야 합니다.
